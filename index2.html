<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="author" content="Daniel Franz, Chris Mosey, Zachary Taylor" />
		<meta name="description" content="Mobile Application Development 2015 - Final Project" />
		
		<!-- For Mobile App Display -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1, user-scalable=no" />
		
		<title>Weight2Grade</title>
		
		<!-- Style dependancies -->
		<link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<style type="text/css">
			.progress-bar, .badge { 
				font-weight: 100; 
				font-size: .75em; 
				text-shadow: 1px 1px 1px black;
			}
			.ui-slider-track.ui-mini { 
				margin: 0 15px 0 68px; 
			}
			.progress-bar {
				min-width: 1.5em;
			}
			.carat-up {
				width: 0; 
				height: 0; 
				margin-bottom: -2px;
				margin-left: auto;
				margin-right: auto;
				border-left: 5px solid transparent;
				border-right: 5px solid transparent;
				border-bottom: 8px solid #777777;
			}
			.carat-up-success {
				border-bottom: 8px solid #5cb85c;
			}
			.badge {
				padding: 4px; 
				width: 2em; 
				text-align: center;
			}
			.badge-box{
				position: absolute; 
				margin-top: 20px;
			}
			.hasBadges:first-child > li > a.ui-link-inherit {
				padding-bottom: 20px;
			}
			.ui-li-aside {
				padding-top: 7.2px;
			}
			.not-active {
				pointer-events: none;
				cursor: default;
			}
			.addToHead {
				position:fixed; 
				width:100%;
				z-index: 10;
			}
			#addSpace1 {
				margin-top: 140px;
			}
			#editView {
				max-width:600px; 
				padding-bottom:2em; 
				margin-right:16px;
			}
			.ui-input-text.ui-mini {
				margin-left:0px;
				margin-right:0px;
			}
			div.ui-slider > div.ui-slider-track > div.ui-slider-bg {
				background-color: #5cb85c;
			}
			#editClassPass + div > div.ui-slider-bg {
				background-color: #777777;
			}
			.circle {
				height: 80px;
				float:left; 
				margin-right:10px
			}
			.circle strong {
				display: block;
				position: relative;
				width: 100%;
				top: -90px;
				line-height: 90px;
				text-align: center;
			}
			.circle strong i {
				font-style: normal;
				font-size: 0.6em;
				font-weight: normal;
			}
			.circle ~ strong {
				display: inline-block;
				line-height: 27px;
				margin-left: -20px;
				margin-top: 4px;
			}
			.circle ~ strong span {
				font-size: 125%;
				vertical-align: middle;
			}
			div.ui-block-b > div.ui-slider {
				width: 100%;
				margin-top: .5em;
			}
		</style>

		<!--should move JQUERY files to another folder, and move the js and css in the index to actual files-->
		<!--also javascript files-->
		<script type="text/javascript" src="js/createDb.js"></script>
		<script type="text/javascript" src="js/database.js"></script>

	</head>
	<body>

<!-- HOME VIEW -->
		<div data-role="page" id="homeView">
        	<header data-role="header" style="overflow:hidden" data-position="fixed" data-tap-toggle="false">
           		<h1>Weight2Grade</h1>
				<a href="#" data-icon="back" class="ui-btn-left ui-state-disabled" style="padding-bottom: 5px">Back</a>
				<!--<nav data-role="navbar">
					<ul>
						<li><a href="#homeView" class="ui-btn-active ui-state-persist" data-icon="bars">List View</a></li>
						<li><a href="#list" data-icon="star">Priority View</a></li>
						<li><a href="#options" data-icon="gear">Options</a></li>
					</ul>
				</nav>-->
            </header>
			<section data-role="content">
				<ul data-role="listview" class="hasBadges" data-inset="true">
					<li data-role="list-divider">
						<h1>List of Classes</h1>	
					</li>
					<li data-icon="false">
						<a href="#classView" class="ui-link-inherit">
							<h2>BIO 2040</h2>
							<p> Introduction to animal anatomy. </p>
							<p class="ui-li-aside">3 / 6</p>
							<div class="progress">
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up"></div>
									<span class="badge">55</span>
								</div>
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up carat-up-success"></div>
									<span class="badge badge-success" >75</span>
								</div>
								<div style=" width: 35%" role="progressbar" class="progress-bar progress-bar-default">
									35
								</div>
								<div style="float: right; width: 25%" role="progressbar" class="progress-bar progress-bar-danger">
									25
								</div>
							</div>
						</a>
					</li>
					<li data-icon="false">
						<a href="#classView" class="ui-link-inherit">
							<h2>ENG 2010</h2>
							<p> Comparative literature II. </p>
							<p class="ui-li-aside">2 / 10</p>
							<div class="progress">
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up"></div>
									<span class="badge" >55</span>
								</div>
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up carat-up-success"></div>
									<span class="badge badge-success" >75</span>
								</div>									
								<div style=" width: 24%" role="progressbar" class="progress-bar progress-bar-default">
									24
								</div>
							</div>
						</a>
					</li>
					<li data-icon="false">
						<a href="#classView" class="ui-link-inherit">
							<h2>MATH 1040</h2>
							<p> Advanced multivariable calculus. <br> Section 1 with Ms.Bennett. </p>
							<p class="ui-li-aside">4 / 15</p>
							<div class="progress">
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up"></div>
									<span class="badge" >55</span>
								</div>
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up carat-up-success"></div>
									<span class="badge badge-success" >70</span>
								</div>									
								<div style=" width: 42%" role="progressbar" class="progress-bar progress-bar-default">
									42
								</div>
								<div style="float: right; width: 8%" role="progressbar" class="progress-bar progress-bar-danger ">
									8
								</div>
							</div>
						</a>
					</li>
					<li data-icon="false">
						<a href="#classView" class="ui-link-inherit">
							<h2>MUSIC 3060</h2>
							<p> ELECTIVE. Classical music analysis and composition. </p>
							<p class="ui-li-aside">2 / 8</p>
							<div class="progress">
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up"></div>
									<span class="badge" >55</span>
								</div>
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up carat-up-success"></div>
									<span class="badge badge-success" >90</span>
								</div>									
								<div style=" width: 10%" role="progressbar" class="progress-bar progress-bar-default">
									10
								</div>
								<div style="float: right; width: 15%" role="progressbar" class="progress-bar progress-bar-danger ">
									15 
								</div>
							</div>
						</a>
					</li>
					<li data-icon="false">
						<a href="#classView" class="ui-link-inherit">
							<h2>PHYS 3100</h2>
							<p> ELECTIVE. Behavioural psychology III. </p>
							<p class="ui-li-aside">3 / 8</p>
							<div class="progress">
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up"></div>
									<span class="badge" >55</span>
								</div>
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up carat-up-success"></div>
									<span class="badge badge-success" >80</span>
								</div>									
								<div style=" width: 25%" role="progressbar" class="progress-bar progress-bar-default">
									25
								</div>
								<div style="float: right; width: 15%" role="progressbar" class="progress-bar progress-bar-danger ">
									15
								</div>
							</div>
						</a>
					</li>
					<li class="ui-field-contain addForm" style="display:none">
						<label for="addClassCode">Class Code:</label>
						<input data-mini="true" type="text" name="addClassCode" id="addClassCode" value="" placeholder="PYSCH 101" data-clear-btn="true" />
					</li>
					<li class="ui-field-contain addForm" style="display:none">
						<label for="addClassDesc">Description:</label>
						<textarea data-mini="true" type="text" name="addClassDesc" id="addClassDesc" value="" placeholder="Intro to psychology" data-clear-btn="true"></textarea>
					</li>
					<li class="ui-field-contain addForm" style="display:none">
						<label for="addClassGoal">Target Grade:</label>
						<input type="range" name="addClassGoal" id="addClassGoal" data-mini="true" value="55" min="0" max="100" data-highlight="true" />
					</li>
					<li class="addForm" style="display:none">
						<fieldset class="ui-grid-b">
							<div class="ui-block-a"></div>
							<div class="ui-block-b"></div>
							<div class="ui-block-c"><button type="submit" class="ui-btn ui-corner-all ui-btn-a ui-mini ui-btn-active">Add</button></div>
			            </fieldset>
					</li>
					<li>
						<a id="addToggle" class="ui-btn ui-icon-plus ui-btn-icon-left" onclick="toggleAddForm();">Add Class</a>
					</li>
				</ul>
			</section>
		</div><!-- end page -->

<!-- CLASS VIEW -->
		<div data-role="page" id="classView">
        	<header data-role="header" style="overflow:hidden" data-position="fixed" data-tap-toggle="false">
           		<h1>Weight2Grade</h1>
				<a href="#homeView" data-icon="back" class="ui-btn-left" style="padding-bottom: 5px">Back</a>
				<!--<nav data-role="navbar">
					<ul>
						<li><a href="#classView" class="ui-btn-active ui-state-persist" data-icon="bars">List View</a></li>
						<li><a href="#list" data-icon="star">Priority View</a></li>
						<li><a href="#options" data-icon="gear">Options</a></li>
					</ul>
				</nav>-->
            </header>
			<section data-role="content" style="margin:-1px">
				<ul data-role="listview" class="hasBadges addToHead" data-split-icon="edit">
					<li data-icon="false">
						<a class="ui-link-inherit not-active">
							<h2>BIO 2040</h2>
							<p> Introduction to animal anatomy. </p>
							<p class="ui-li-aside">3 / 6</p>
							<div class="progress" data-total-weight="100" id="bar">
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up"></div>
									<span class="badge">55</span>
								</div>
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up carat-up-success"></div>
									<span class="badge badge-success" >75</span>
								</div>
								<div id="grade" style="width: 35%; z-index: 5" role="progressbar" class="progress-bar progress-bar-default">
									35
								</div>
								<div id="hoverGrade" style="width: 0%; display: none" role="progressbar" class="progress-bar progress-bar-warning">
									0
								</div>
								<div id="fail" style="float: right; width: 25%" role="progressbar" class="progress-bar progress-bar-danger ">
									25
								</div>
							</div>
						</a>
						<a href="#editView" data-rel="popup" data-position-to="window" data-transition="pop">Edit Class</a>
					</li>
				</ul>
				<div data-role="collapsibleset" id="addSpace1">
					<div data-role="collapsible" data-collapsed-icon="carat-d" data-expanded-icon="carat-u">
						<h2>Marked Tasks</h2>
						<ul data-role="listview" id="markedAssList">
							<li>
								<a href="#assView" class="ui-link-inherit">
									<div class="circle" data-value="0.87" data-weight="30">
										<strong></strong>
									</div>
									<h2>Lab 1</h2>
									<p>Report for cow eyeball dissection.</p>
									<p class="ui-li-aside">March 3rd, 2015</p>
									<strong><span>&#215;</span>30</strong>
								</a>
							</li>
							<li>
								<a href="#assView" class="ui-link-inherit">
									<div class="circle" data-value="0.30" data-weight="30">
										<strong></strong>
									</div>
									<h2>Lab 2</h2>
									<p>Report for squid dissection and diagram.</p>
									<p class="ui-li-aside">March 7th, 2015</p>
									<strong><span>&#215;</span>30</strong>
								</a>
							</li>
						</ul>
					</div>
					<div data-role="collapsible" data-collapsed-icon="carat-d" data-expanded-icon="carat-u">
						<h2>Completed Tasks</h2>
						<ul data-role="listview" id="completedAssList">
							<li>
								<a href="#assView" class="ui-link-inherit">
									<div class="circle" data-value="0" data-weight="10">
										<strong></strong>
									</div>
									<h2>Quiz 1</h2>
									<p>Major branches of life, and animal taxonomy.</p>
									<p class="ui-li-aside">March 20th, 2015</p>
									<strong><span>&#215;</span>10</strong>
								</a>
							</li>
						</ul>
					</div>
					<div data-role="collapsible" data-collapsed-icon="carat-d" data-expanded-icon="carat-u" data-collapsed="false" style="border-radius:0px">
						<h2>Outstanding Tasks</h2>
						<ul data-role="listview" id="outstandingAssList">
							<li>
								<a href="#assView" class="ui-link-inherit">
									<div class="circle" data-value="0" data-weight="10">
										<strong></strong>
									</div>
									<h2>Quiz 2</h2>
									<p>Anatomy of vertebrates.</p>
									<p class="ui-li-aside">April 1st, 2015</p>
									<strong><span>&#215;</span>10</strong>
								</a>
							</li>
							<li>
								<a href="#assView" class="ui-link-inherit">
									<div class="circle" data-value="0" data-weight="10">
										<strong></strong>
									</div>
									<h2>Quiz 3</h2>
									<p>Cellular biology and mammal physiology.</p>
									<p class="ui-li-aside">April 15th, 2015</p>
									<strong><span>&#215;</span>10</strong>
								</a>
							</li>
							<li>
								<a href="#assView" class="ui-link-inherit">
									<div class="circle" data-value="0" data-weight="10">
										<strong></strong>
									</div>
									<h2>Quiz 4</h2>
									<p>Evolutionary reasons for adaptations.</p>
									<p class="ui-li-aside">April 29th, 2015</p>
									<strong><span>&#215;</span>10</strong>
								</a>
							</li>
						</ul>
					</div>
					<ul data-role="listview" data-inset="true" style="margin-top:-1px">
						<li class="ui-field-contain taskForm" style="display:none;border-radius:0px">
							<fieldset class="ui-grid-a">
								<div class="ui-block-a">
									<select data-mini="true" name="addAssType" id="addAssType">
										<option value="Assignment">Assignment</option>
										<option value="Assignment">Exam</option>
										<option value="Assignment">Lab</option>
										<option value="Assignment">Quiz</option>
										<option value="Assignment">Paper</option>
										<option value="Assignment">Project</option>
										<option value="Assignment">Worksheet</option>
									</select>
								</div>
								<div class="ui-block-b" style="padding-left:14px">
									<select name="addAssBonus" id="addAssBonus" data-role="slider">
										<option value="off">Required</option>
										<option value="on">Bonus</option>
									</select>
								</div>
							</fieldset>
						</li>
						<li class="ui-field-contain taskForm" style="display:none">
							<label for="addAssName">Name:</label>
							<input data-mini="true" type="text" name="addAssName" id="addAssName" value="" placeholder="Final Presentation" data-clear-btn="true" />
						</li>
						<li class="ui-field-contain taskForm" style="display:none">
							<label for="addAssDesc">Description:</label>
							<textarea data-mini="true" type="text" name="addAssDesc" id="addAssDesc" value="" placeholder="Link between sport concussions and poor academic performance." data-clear-btn="true"></textarea>
						</li>
						<li class="ui-field-contain taskForm" style="display:none">
							<label for="addAssDate">Due Date:</label>
							<input data-mini="true" type="date" name="addAssDate" id="addAssDate" value="" />
						</li >
						<li class="taskForm" style="display:none">
							<fieldset class="ui-grid-b">
								<div class="ui-block-a"></div>
								<div class="ui-block-b"></div>
								<div class="ui-block-c"><button type="submit" class="ui-btn ui-corner-all ui-btn-a ui-mini ui-btn-active">Add</button></div>
				            </fieldset>
						</li>
						<li>
							<a id="taskToggle" class="ui-btn ui-icon-plus ui-btn-icon-left" onclick="toggleTaskForm();">Add Task</a>
						</li>
					</ul>
				</div>
			</section>
			
<!-- EDIT CLASS POPUP -->		
			<div data-role="popup" id="editView" data-theme="a" data-overlay-theme="b" class="ui-corner-all">
				<div style="width:400px"></div>
				<form data-ajax="false" style="padding:10px 20px">
					<h3>Class Details</h3>
					<label for="editClassCode">Class Code:</label>
					<input data-mini="true" type="text" name="editClassCode" id="editClassCode" value="BIO 2040"/>
					<label for="editClassDesc">Description:</label>
					<textarea data-mini="true" type="text" name="editClassDesc" id="editClassDesc" value="Introduction to animal anatomy.">Introduction to animal anatomy.</textarea>
					<label for="editClassGoal">Target Grade:</label>
					<input type="range" name="editClassGoal" id="editClassGoal" data-mini="true" value="75" min="0" max="100" data-highlight="true" />
					<label for="editClassPass">Pass Grade:</label>
					<input type="range" name="editClassPass" id="editClassPass" data-mini="true" value="55" min="0" max="100" data-highlight="true" />
					<fieldset data-role="controlgroup" data-type="horizontal" data-mini="true" style="padding-top:20px">
						<button type="button" class="ui-btn ui-corner-all ui-btn-a ui-btn-active" onclick="window.location='index2.html#classView'">Save</button>
						<button type="button" class="ui-btn ui-corner-all ui-btn-b" onclick="window.location='index2.html#homeView'">Delete</button>
						<button type="button" class="ui-btn ui-corner-all ui-btn-a" onclick="window.location='index2.html#classView'">Cancel</button>
					</fieldset>
				</form>
			</div><!-- end popup -->
		</div><!-- end page -->

<!-- ASSIGNEMNT VIEW -->
		<div data-role="page" id="assView">
			<header data-role="header" style="overflow:hidden" data-position="fixed" data-tap-toggle="false">
				<h1>Weight2Grade</h1>
				<a href="#classView" data-icon="back" class="ui-btn-left" style="padding-bottom: 5px">Back</a>
				<!--<nav data-role="navbar">
					<ul>
						<li><a href="#assView" class="ui-btn-active ui-state-persist" data-icon="bars">List View</a></li>
						<li><a href="#list" data-icon="star">Priority View</a></li>
						<li><a href="#options" data-icon="gear">Options</a></li>
					</ul>
				</nav>-->
			</header>
			<section data-role="content" style="margin:-1px">
				<ul data-role="listview" class="hasBadges addToHead" data-split-icon="edit">
					<li data-icon="false">
						<a class="ui-link-inherit not-active">
							<h2>BIO 2040</h2>
							<p> Introduction to animal anatomy. </p>
							<p class="ui-li-aside">3 / 6</p>
							<div class="progress" data-total-weight="100" id="bar">
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up"></div>
									<span class="badge">55</span>
								</div>
								<div class="badge-box" style="padding-left: 0px">
									<div class="carat-up carat-up-success"></div>
									<span class="badge badge-success" >75</span>
								</div>
								<div style="width: 35%" role="progressbar" class="progress-bar progress-bar-default">
									35
								</div>
								<div id="hoverGrade" style="width: 10%" role="progressbar" class="progress-bar progress-bar-warning">
									10
								</div>
								<div id="fail" style="float: right; width: 25%" role="progressbar" class="progress-bar progress-bar-danger ">
									25
								</div>
							</div>
						</a>
					</li>
					<li data-icon="false">
						<a class="ui-link-inherit not-active">
							<div class="circle" data-value="0" data-weight="10">
								<strong></strong>
							</div>
							<h2>Quiz 2</h2>
							<p>Anatomy of vertebrates.</p>
							<p class="ui-li-aside">April 1st, 2015</p>
						</a>
						<a href="#editView" data-rel="popup" data-position-to="window" data-transition="pop">Edit Class</a>
					</li>
				</ul>
			</section>
		</div>
<!-- SCRIPTS -->
		<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="js/circle-progress.js"></script>
		<script>
		$(document).on("mobileinit", function(){
			$.mobile.defaultPageTransition = 'none';
		});
		</script>
		<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
		<script>
			function toggleAddForm() {
				$(".addForm").toggle("fast");
				var str = $("#addToggle").text();
				if(str == "Add Class")
				{
					$("#addToggle").text("Cancel")
								   .removeClass("ui-icon-plus")
								   .addClass("ui-icon-minus");
				}
				else
				{
					$("#addToggle").text("Add Class")
								   .removeClass("ui-icon-minus")
								   .addClass("ui-icon-plus");
				}
			}
			function toggleTaskForm() {
				$(".taskForm").toggle("fast");
				var str = $("#taskToggle").text();
				if(str == "Add Task")
				{
					$("#taskToggle").text("Cancel")
								   .removeClass("ui-icon-plus")
								   .addClass("ui-icon-minus");
					$("#addSpace1 .ui-collapsible").collapsible("collapse");
					
				}
				else
				{
					$("#taskToggle").text("Add Task")
								   .removeClass("ui-icon-minus")
								   .addClass("ui-icon-plus");
				}
			}
			var doit;
			window.onresize = function(){
			  clearTimeout(doit);
			  doit = setTimeout(repositionBadges, 500);
			};
			$(window).on("pageshow", repositionBadges);
			$(window).on("pageshow", revealCircles);
			$(document).on("collapsibleexpand", function() {
				var str = $("#taskToggle").text();
				if(str == "Cancel")
				{
					toggleTaskForm();
				}
				$(".circle").circleProgress("redraw");
			});
			function repositionBadges(event, ui) {
				$(".badge-box").each(function(index){
					var numb = $(this).text().trim() + "%";
					$(this).animate({marginLeft: numb}, "faster");
					$(this).animate({marginLeft: "-=36px"}, "faster");
				});
			}
			function resetBadges(event, ui) {
				$(".badge-box").each(function(index){
					$(this).css(marginLeft, "0px");
				});
			}
			function revealCircles() {
				$.each($(".circle"), function(key, value){
					var percent = parseFloat($(value).attr('data-value'));
					$(value).circleProgress({
						value: percent,
						size: 80,
						reverse: true,
						thickness: 12,
						startAngle: 0,
						fill: {color: "#337ab7"},
						animation: { duration: 600 }
					}).on('circle-animation-progress', function(event, progress){
						$(value).find('strong').html(parseInt(100 * percent * progress) + '<i>%</i>');
					});
				});
			}
			$("#outstandingAssList > li > a").hover(function() {
				// on enter
				pumpCircle($(this).find(".circle"));
			}, function(){
				// on leave
				deflateCircle($(this).find(".circle"));
			});
			$("#completedAssList > li > a").hover(function() {
				// on enter
				pumpCircle($(this).find(".circle"));
			}, function(){
				// on leave
				deflateCircle($(this).find(".circle"));
			});
			function pumpCircle(circle){
				$("#hoverGrade").show();
				var weight = parseInt($(circle).attr('data-weight'));
				var total = parseInt($("#bar").attr('data-total-weight'));
				var percent = weight / total * 100;
				$("#hoverGrade").width(percent.toString() + "%");
				$(circle).circleProgress({
					value: 1,
					size: 80,
					reverse: true,
					thickness: 12,
					startAngle: 0,
					fill: {color: "#FFAA3B"},
					animation: { duration: 300 }
				}).on('circle-animation-progress', function(event, progress){
					var width = parseInt(weight * progress);
					$("#hoverGrade").text(width);
				});
			}
			function deflateCircle(circle){
				$("#hoverGrade").hide();
				$("#hoverGrade").text("");
				$("#hoverGrade").width(0);
				$(circle).circleProgress({
					value: 0,
				})
			}
			/*$("#markedAssList > li > a").hover(function() {
				// on enter
				$("#hoverGrade2").show();
				var weight = parseInt($(this).find(".circle").attr('data-weight'));
				var total = parseInt($("#bar").attr('data-total-weight'));
				var percent = weight / total * 100;
				$("#hoverGrade").width(percent.toString() + "%");
			}, function() {
				// on leave
				$("#hoverGrade2").hide();
				$("#hoverGrade2").text("");
				$("#hoverGrade2").width(0);
			});*/
		</script>
	</body>
</html>
